import{r as n,s as P,j as t,t as A,B as r,Q as g,v as N,N as i,a as y,F as E,w as R,x as _,m as F}from"./index.2c5c11fb.js";import{I as j}from"./index.5e646e6d.js";import{T as v}from"./Table.b808e900.js";import{u as B}from"./useDispatch.51b2a4aa.js";const z=[{title:"Select",key:"all",dataIndex:"all",showOnResponse:!0,showOnDesktop:!0},{title:"Name",dataIndex:"name",key:"name",showOnResponse:!0,showOnDesktop:!0},{title:"Price",dataIndex:"price",key:"price",showOnResponse:!0,showOnDesktop:!0},{title:"Image",key:"image",dataIndex:"image",showOnResponse:!0,showOnDesktop:!0},{title:"Category",key:"category",dataIndex:"category",showOnResponse:!0,showOnDesktop:!0},{title:"Seri",key:"Seri",dataIndex:"Seri",showOnResponse:!0,showOnDesktop:!0},{title:"Copyright",key:"copyright",dataIndex:"copyright",showOnResponse:!0,showOnDesktop:!0},{title:"Delete",key:"delete",dataIndex:"delete",showOnResponse:!0,showOnDesktop:!0},{title:"Edit",key:"edit",dataIndex:"edit",showOnResponse:!0,showOnDesktop:!0}],L=({product:a})=>{const[c,k]=n.exports.useState([]),[u,x]=n.exports.useState(""),[p,f]=n.exports.useState(""),[s,d]=n.exports.useState([]),[h,w]=n.exports.useState(!1),[C,O]=n.exports.useState(!1),m=B();n.exports.useEffect(()=>{(async()=>{k(await R())})(),m(P()),document.title="Admin Page"},[C]);let o=a;u.length&&(o=a.filter(e=>e.name.toLowerCase().includes(u.toLowerCase()))),p.length&&(o=a.filter(e=>p==e.category),p=="all"&&a.map(e=>o.push(e)));const b=e=>{s.includes(e)?d(s.filter(l=>l!==e)):d([...s,e])},S=()=>{w(!h),d(h?[]:a.map(e=>e._id))},D=async()=>(console.log("checkAllid",s),window.confirm(s)==!0?(O(!0),g.success("X\xF3a t\u1EA5t c\u1EA3 th\xE0nh c\xF4ng"),await _(s)):""),I=o?o.map((e,l)=>({key:e._id,all:t("div",{children:t("input",{className:"form-check-input",checked:s.includes(e._id),onChange:()=>b(e._id),type:"checkbox",id:"defaultCheck1"})}),name:e.name,price:e.price,category:A(c,e.category),image:t(j,{width:150,height:200,style:{objectFit:"cover"},src:e.image?e.image:"https://hoathinh3d.com/wp-content/uploads/2021/10/dau-pha-thuong-khung-ova-3-hen-uoc-3-nam-856-300x450.jpg"}),Seri:e.seri,copyright:e.copyright,delete:t(r,{type:"primary",onClick:()=>g.success(`Delete ${e.name} Success!`,{position:"bottom-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"},m(N(e._id))),children:"Delete"}),edit:t(i,{to:`/admin/product/edit/${e._id}`,children:t(r,{type:"primary",danger:!0,children:"Edit"})})})):"";return y(E,{children:[t("input",{type:"checkbox",checked:h,name:"",onChange:()=>S(),id:""}),t("button",{onClick:()=>{D()},className:"btn_remove",children:t("i",{className:"fa-solid fa-trash text-light"})}),t(i,{to:"/admin/product/add",children:t(r,{type:"primary",shape:"round",style:{display:"inline-block",margin:"10px 10px"},children:"Add Product"})}),t(i,{to:"/admin/product/creacting",children:t(r,{type:"primary",shape:"round",style:{display:"inline-block",margin:"10px 10px",background:"#28a745"},children:"Add Multiple"})}),t(i,{to:"/admin/product/add",children:t(r,{type:"primary",shape:"round",style:{display:"inline-block  ",margin:"10px 10px",background:"#eca52b"},children:"Export PDF"})}),y("select",{className:"form-select-sm",onChange:e=>f(e.target.value),style:{border:"none",padding:"10px",outline:"none",width:"250px"},"aria-label":".form-select-sm example",children:[t("option",{value:"all",children:"Open this select menu"}),c.map((e,l)=>t("option",{value:e._id,children:e.name},l))]}),t(i,{to:"/admin/product/add",children:t(r,{type:"primary",danger:!0,shape:"round",style:{display:"inline-block  ",margin:"10px 10px"},children:"Export Excel"})}),t("div",{style:{display:"inline-block"},children:t("div",{className:"input-group",children:t("div",{className:"form-outline",children:t("input",{type:"search",id:"form1",placeholder:"search...",className:"form-control",onChange:e=>{x(e.target.value)}})})})}),t(v,{columns:z,mobileBreakPoint:768,dataSource:I,pagination:{defaultPageSize:5,showSizeChanger:!0,pageSizeOptions:["5","20","30"]}})]})},Q=()=>{const a=F(c=>c.product.value);return t("div",{children:t(L,{product:a})})};export{Q as default};
